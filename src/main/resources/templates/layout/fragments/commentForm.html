<!-- /templates/layout/fragments/commentForm.html -->
<div th:fragment="form(postId, loginUserId)">

    <section class="comment-write-section" style="margin-top:20px;"
             data-require-login="comment">

        <form action="/comment" method="post" class="comment-form">
            <textarea name="content"
                      placeholder="댓글을 입력하세요"
                      required
                      style="width:100%; min-height:70px; resize:vertical;"></textarea>

            <input type="hidden" name="postId" th:value="${postId}">
            <button type="submit" style="margin-top:6px;">댓글 등록</button>
        </form>

        <!-- 비로그인 안내 문구만 조건부로 표시 -->
        <p th:if="${loginUserId == null}"
           style="margin-top:4px; font-size:0.9rem; color:#666;">
            <a href="/login">로그인</a> 후 댓글을 작성할 수 있습니다.
        </p>

    </section>

</div>
