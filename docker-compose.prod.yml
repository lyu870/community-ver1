  services:
    mysql:
      ports: []

    redis:
      ports: []

    kafka:
      ports: []

    app:
      ports: []
      environment:
        TZ: Asia/Seoul
        JAVA_TOOL_OPTIONS: -Duser.timezone=Asia/Seoul
        SPRING_PROFILES_ACTIVE: prod

    nginx:
      image: nginx:1.27-alpine
      container_name: community_nginx
      ports:
        - "80:80"
      volumes:
        - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
        - ./nginx/conf.d:/etc/nginx/conf.d:ro
      depends_on:
        app:
          condition: service_healthy
      restart: unless-stopped
